Database
├── Collection: "users"
│   └── Document: "{userId_A}"
│       ├── Field: email: "john@example.com"
│       ├── Field: displayName: "John Doe"
│       └── Field: createdAt: timestamp
│
├── Collection: "folders"
│   └── Document: "{folderId_auto_generated_1}"
│       ├── Field: userId: "{userId_A}"
│       ├── Field: name: "Private"         // Predefined name
│       ├── Field: color: "grey"           // Optional: default color
│       ├── Field: createdAt: timestamp
│       ├── Field: order: 0                // To ensure consistent order for default folders
│       ├── Field: isArchived: false
│       └── Field: isSystemFolder: true    // **NEW: Identifies this as a non-deletable, non-renamable folder**
│
│   └── Document: "{folderId_auto_generated_2}"
│       ├── Field: userId: "{userId_A}"
│       ├── Field: name: "Important"       // Predefined name
│       ├── Field: color: "orange"         // Optional: default color
│       ├── Field: createdAt: timestamp
│       ├── Field: order: 1
│       ├── Field: isArchived: false
│       └── Field: isSystemFolder: true    // **NEW: Identifies this as a non-deletable, non-renamable folder**
│
│   └── Document: "{folderId_auto_generated_3}" // User-created folder
│       ├── Field: userId: "{userId_A}"
│       ├── Field: name: "Work Projects"   // User-defined, must be unique for this user
│       ├── Field: color: "blue"
│       ├── Field: createdAt: timestamp
│       ├── Field: order: 2                // User might define order or app assigns next available
│       ├── Field: isArchived: false
│       └── Field: isSystemFolder: false   // Or this field can be absent for custom folders
│
├── Collection: "notes"
│   └── Document: "{noteId_X1}"
│       ├── Field: userId: "{userId_A}"
│       ├── Field: folderId: "{folderId_auto_generated_1}" // Links to "Private" folder
│       ├── Field: title: "My Secret Plan"
│       ├── Field: content: "..."
│       ├── Field: tags: ["secret"]
│       ├── Field: createdAt: timestamp
│       ├── Field: updatedAt: timestamp
│       ├── Field: isArchived: false
│       ├── Field: isPinned: false
│       └── Field: lastAccessedAt: timestamp
